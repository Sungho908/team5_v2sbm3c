<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{admin/layout}">
<!-- layout.html 상속 -->

<head>
  <title>옵션 수정</title>
</head>

<body>
  <div layout:fragment="content">

    <div>

      <div class="top_menu_line"></div>
    </div>

    <div class="container mt-3" style="max-width: 800px;">
      <div class="card">
        <div class="card-header bg-primary text-white text-center">
          <span th:text="'옵션 번호  >  ' + ${optionVO.optionno}" style="font-size: 18px;" class="bg-primary text-white text-center"></span>
          

          <aside class="aside_right">
        <a th:href="@{|/admin/shoes/option_create/${shoesVO.shoesno}?word=${word}&now_page=${now_page}|}" title="옵션 추가"><i class="fas fa-plus"></i></a>
        <span class="menu_devide">│</span>
        <a href="/admin/shoes/admin_list_all?now_page=1" title="목록"><i class="fas fa-list"></i></a>
        <span class="menu_devide">│</span>
        <a th:href="@{|/admin/shoes/option_delete/${optionVO.shoesno}?word=${word}&now_page=${now_page}|}" title="옵션 삭제"><i class="fas fa-trash"></i></a>
        <span class="menu_devide">│</span>
        <a href="javascript: location.reload();" title="새로고침"><i class="fas fa-sync-alt"></i></a>
    </aside>

        </div>
        <form name="frm" th:object="${optionVO}" method="post" action="/admin/shoes/option_update">
          <input type="hidden" name="shoesno" th:value="${shoesVO.shoesno}">
          <input type="hidden" name="optionno" th:value="${optionVO.optionno}">
          <div class="form-group">
            <label style="margin:0 auto;">옵션 번호</label>
            <input type="" name="optionno" th:value="${optionVO.optionno}" autofocus="autofocus"
              class="form-control form-control-sm" style="width: 50%; margin: 0 auto; text-align: center;"
              th:field="*{optionno}" readonly>
            <div th:if="${#fields.hasErrors('optionno')}" class="alert alert-danger" role="alert"
              style="margin-top: 5px;">
              <div th:each="err : ${#lists.sort(#fields.errors('optionno'))}" th:text="${err}"></div>
            </div>
          </div>
          <div class="form-group">
            <label for="sizes">사이즈</label>
            <select name="sizes" id="sizes" class="form-control form-control-sm"
              style="width: 50%; margin: 0 auto; text-align: center;">
              <option th:if="${optionVO.sizes}" th:value="${optionVO.sizes}" th:text="${optionVO.sizes}">
              </option>
              <!-- 직접 사이즈 값 추가 -->
              <!-- 220부터 300까지의 옵션 추가 -->
              <option th:each="size : ${#numbers.sequence(220, 300, 5)}" th:value="${size}" th:text="${size}"
                th:selected="${optionVO.sizes == size}"></option>
            </select>
            <div th:if="${#fields.hasErrors('sizes')}" class="alert alert-danger" role="alert" style="margin-top: 5px;">
              <div th:each="err : ${#lists.sort(#fields.errors('sizes'))}" th:text="${err}"></div>
            </div>
          </div>

          <div class="form-group">
            <label>재고</label>
            <input type="number" name="cnt" th:value="${optionVO.amount}" class="form-control form-control-sm"
              style="width: 50%; margin: 0 auto; text-align: center;" th:field="*{amount}">
            <div th:if="${#fields.hasErrors('amount')}" class="alert alert-danger" role="alert"
              style="margin-top: 5px;">
              <div th:each="err : ${#lists.sort(#fields.errors('amount'))}" th:text="${err}"></div>
            </div>
          </div>
          <div class="form-group">
            <label>색상</label>
            <input type="text" name="color" th:value="${optionVO.color}" class="form-control form-control-sm"
              style="width: 50%; margin: 0 auto; text-align: center;" th:field="*{color}">
            <div th:if="${#fields.hasErrors('color')}" class="alert alert-danger" role="alert" style="margin-top: 5px;">
              <div th:each="err : ${#lists.sort(#fields.errors('color'))}" th:text="${err}"></div>
            </div>
          </div>

          <div class="content_body_bottom">
            <button type="submit" class="btn btn-primary btn-sm">저장</button>
            <button type="button"
              th:attr="onclick=|location.href='/admin/shoes/admin_read/${shoesVO.shoesno}?word=${word}&now_page=${now_page}'|"
              class="btn btn-secondary btn-sm">취소</button>

          </div>
          <div th:replace="~{admin/shoes/admin_option_component::admin_option_fragment}"></div>
        </form>
      </div>
    </div>

  </div>
</body>

</html>