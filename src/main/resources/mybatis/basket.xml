<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dev.mvc.basket.BasketDAOInter">
  
  <select id="getBasket" resultMap = "basketRead">
      SELECT b.basketno, b.amount, o.sizes, o.color,
    s.shoesno, s.title, s.brand, s.price, s.discount, s.contents
    FROM basket b
    JOIN options o ON b.optionno = o.optionno
    JOIN shoes s ON o.shoesno = s.shoesno
    WHERE b.memberno = ${memberno}
</select>
  
   <resultMap id="basketRead" type="dev.mvc.shoes.ShoesAllVO">
   <association property="basketVO" javaType="dev.mvc.basket.BasketVO">
     <id property="basketno" column="basketno" />
     <result property="amount" column="amount" />
   </association>
   
    <association property="optionVO" javaType="dev.mvc.option.OptionVO">
      <result property="sizes" column="sizes" />
      <result property="color" column="color" />
    </association>

    <association property="shoesVO" javaType="dev.mvc.shoes.ShoesVO">
      <result property="shoesno" column="shoesno" />
      <result property="title" column="title" />
      <result property="brand" column="brand" />
      <result property="rating" column="rating" />
      <result property="price" column="price" />
      <result property="discount" column="discount" />
      <result property="contents" column="contents" />
    </association>
  </resultMap>
</mapper>

